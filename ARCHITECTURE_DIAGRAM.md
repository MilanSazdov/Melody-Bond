# ğŸ“Š RWA Portfolio System Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           FRONTEND APPLICATION                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   /portfolio Page    â”‚  â”‚  /governance Page    â”‚  â”‚   /projects Page     â”‚
â”‚                      â”‚  â”‚                      â”‚  â”‚                      â”‚
â”‚  â€¢ Show RWAs         â”‚  â”‚  â€¢ Show Proposals    â”‚  â”‚  â€¢ Fund RWAs         â”‚
â”‚  â€¢ Display Shares    â”‚  â”‚  â€¢ Weighted Voting   â”‚  â”‚  â€¢ Invest USDC       â”‚
â”‚  â€¢ TBA Balances      â”‚  â”‚  â€¢ Execute Proposals â”‚  â”‚  â€¢ Create Proposals  â”‚
â”‚  â€¢ Create Proposals  â”‚  â”‚  â€¢ Vote History      â”‚  â”‚                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                         â”‚                         â”‚
           â”‚                         â”‚                         â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚                         â”‚
                         â–¼                         â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚      lib/rwaGovernance.ts Library        â”‚
              â”‚                                          â”‚
              â”‚  â€¢ getUserRWAInvestments()               â”‚
              â”‚  â€¢ buildChangeNameProposal()             â”‚
              â”‚  â€¢ buildChangeImageProposal()            â”‚
              â”‚  â€¢ buildWithdrawProposal()               â”‚
              â”‚  â€¢ getRWAProposals()                     â”‚
              â”‚  â€¢ getUserVotingPower()                  â”‚
              â”‚  â€¢ getTBABalance()                       â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚ Web3 Calls
                             â–¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          BLOCKCHAIN (SEPOLIA)                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              MAIN DAO CONTRACT                             â”‚
â”‚                    0x132AD6fB8EaF3065C831Febf5788AbDa4B72c76C              â”‚
â”‚                                                                            â”‚
â”‚  Storage:                                                                  â”‚
â”‚  â€¢ rwaShares[nftId][investor] = shares     â† VOTING POWER                  â”‚
â”‚  â€¢ rwaDaos[nftId] = governorAddress        â† RWA GOVERNOR                  â”‚
â”‚  â€¢ nftProposalId[nftId] = proposalId       â† FUNDING PROPOSAL              â”‚
â”‚  â€¢ rwaProposals[id] = {...}                â† PROPOSAL DATA                 â”‚
â”‚                                                                            â”‚
â”‚  Functions:                                                                â”‚
â”‚  â€¢ invest(proposalId, amount)              â† USER INVESTS USDC             â”‚
â”‚  â€¢ finalizeProposal(proposalId)            â† CREATES NFT + TBA             â”‚
â”‚  â€¢ rwaShares(nftId, investor)              â† READ VOTING POWER             â”‚
â”‚  â€¢ rwaDaos(nftId)                          â† READ GOVERNOR ADDR            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚                                      â”‚
                 â”‚ Creates & Tracks                     â”‚ Reads Shares
                 â–¼                                      â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚     RWA NFT CONTRACT   â”‚         â”‚   RWAGovernor (Per NFT)        â”‚
    â”‚      (ERC-721)         â”‚         â”‚         (Clone)                â”‚
    â”‚  0x914c81B1A6C3aCF7    â”‚         â”‚    One per RWA NFT             â”‚
    â”‚                        â”‚         â”‚                                â”‚
    â”‚  â€¢ tokenURI(nftId)     â”‚         â”‚  Storage:                      â”‚
    â”‚  â€¢ setTokenURI(...)    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â€¢ nftId = X                   â”‚
    â”‚  â€¢ ownerOf(nftId)      â”‚ Changes â”‚  â€¢ tbaAddress = 0x...          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  via    â”‚  â€¢ mainDao = DAO address       â”‚
                                Gov    â”‚                                â”‚
                                       â”‚  Functions:                    â”‚
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â€¢ propose(...)                â”‚
                 â”‚                     â”‚  â€¢ castVote(...)               â”‚
                 â”‚ Controls            â”‚  â€¢ _getVotes(investor)         â”‚
                 â–¼                     â”‚    â†’ reads DAO.rwaShares       â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚   TBA Wallet (ERC-6551)â”‚                     â”‚
    â”‚   Token Bound Account  â”‚                     â”‚ Executes
    â”‚                        â”‚                     â”‚ Proposals
    â”‚  â€¢ Holds USDC/ETH      â”‚                     â”‚
    â”‚  â€¢ Owned by NFT        â”‚                     â–¼
    â”‚  â€¢ Controlled by Gov   â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                        â”‚         â”‚  Proposal Execution            â”‚
    â”‚  executeCall(...)      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚  1. Change Metadata:           â”‚
                 â”‚                     â”‚     TBA â†’ RWA.setTokenURI()    â”‚
                 â”‚                     â”‚                                â”‚
                 â”‚ For Withdrawals     â”‚  2. Withdraw Funds:            â”‚
                 â”‚                     â”‚     TBA â†’ USDC.approve()       â”‚
                 â”‚                     â”‚     TBA â†’ Distributor.dist..() â”‚
                 â–¼                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  DISTRIBUTOR CONTRACT  â”‚
    â”‚  0xdD504aE23C6C63Ee    â”‚
    â”‚                        â”‚
    â”‚  distribute(           â”‚
    â”‚    nftId,              â”‚
    â”‚    amount,             â”‚
    â”‚    tokenAddress        â”‚
    â”‚  )                     â”‚
    â”‚                        â”‚
    â”‚  Logic:                â”‚
    â”‚  1. Pull from TBA      â”‚
    â”‚  2. Get investors list â”‚
    â”‚  3. Calculate shares % â”‚
    â”‚  4. Transfer to each   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â”‚ Distributes
                 â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚        INVESTOR WALLETS             â”‚
    â”‚                                     â”‚
    â”‚  Alice (60% shares) â†’ 600 USDC      â”‚
    â”‚  Bob   (40% shares) â†’ 400 USDC      â”‚
    â”‚                                     â”‚
    â”‚  Proportional to rwaShares!         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                               FLOW DIAGRAMS                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                           INVESTMENT FLOW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. User invests USDC
   â””â”€> DAO.invest(proposalId, amount)
       â””â”€> Records: rwaShares[nftId][user] += shares

2. Proposal finalized
   â””â”€> DAO.finalizeProposal(proposalId)
       â”œâ”€> Mints RWA NFT #X
       â”œâ”€> Creates TBA wallet for NFT #X
       â”œâ”€> Deploys RWAGovernor clone for NFT #X
       â”œâ”€> Records: rwaDaos[X] = governorAddress
       â””â”€> Records: nftProposalId[X] = proposalId


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                         PROPOSAL CREATION FLOW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. User clicks "Propose" on Portfolio
   â””â”€> Opens ProposalModal

2. User selects proposal type
   â”œâ”€> Change Name    â†’ buildChangeNameProposal()
   â”œâ”€> Change Image   â†’ buildChangeImageProposal()
   â””â”€> Withdraw Funds â†’ buildWithdrawProposal()

3. User fills form and submits
   â””â”€> Calls: RWAGovernor.propose(targets, values, calldatas, description)
       â””â”€> Creates proposal ID
       â””â”€> Emits: ProposalCreated event


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                            VOTING FLOW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. User navigates to /governance
   â””â”€> Frontend fetches: getRWAProposals(governorAddress, nftId)
       â””â”€> Reads ProposalCreated events
       â””â”€> For each proposal, reads state and votes

2. User sees proposal with their voting power
   â””â”€> Frontend reads: DAO.rwaShares(nftId, userAddress)
       â””â”€> Displays: "Your Voting Power: X shares"

3. User votes (For/Against/Abstain)
   â””â”€> Calls: RWAGovernor.castVote(proposalId, support)
       â”œâ”€> Governor reads: DAO.rwaShares(nftId, voter)
       â”œâ”€> Records vote with share weight
       â””â”€> Updates: proposalVotes[proposalId]

4. Vote distribution updates
   â””â”€> Frontend reads: RWAGovernor.proposalVotes(proposalId)
       â””â”€> Displays: For/Against/Abstain percentages


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                         WITHDRAWAL FLOW (DETAILED)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

STEP 1: Create Proposal
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ buildWithdrawProposal(nftId, amount) â”‚
â”‚                                      â”‚
â”‚ Returns:                             â”‚
â”‚ targets = [USDC, Distributor]        â”‚
â”‚ values = [0, 0]                      â”‚
â”‚ calldatas = [                        â”‚
â”‚   approve(Distributor, amount),      â”‚
â”‚   distribute(nftId, amount, USDC)    â”‚
â”‚ ]                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

STEP 2: Voting
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Investors vote with share weight     â”‚
â”‚                                      â”‚
â”‚ Alice (600 shares) â†’ FOR             â”‚
â”‚ Bob   (400 shares) â†’ FOR             â”‚
â”‚                                      â”‚
â”‚ Total FOR: 1000 shares               â”‚
â”‚ Proposal SUCCEEDS                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

STEP 3: Execution
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RWAGovernor._executeOperations()     â”‚
â”‚                                      â”‚
â”‚ Tells TBA to execute:                â”‚
â”‚ 1. USDC.approve(Distributor, 1000)   â”‚
â”‚ 2. Distributor.distribute(...)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

STEP 4: Distribution
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Distributor.distribute(nftId, 1000, USDC)            â”‚
â”‚                                                      â”‚
â”‚ 1. transferFrom(TBA, Distributor, 1000)              â”‚
â”‚ 2. Get investors = DAO.getInvestorList(proposalId)   â”‚
â”‚ 3. totalShares = 1000 (Alice: 600, Bob: 400)         â”‚
â”‚ 4. For Alice:                                        â”‚
â”‚    payout = (1000 Ã— 600) / 1000 = 600                â”‚
â”‚    USDC.transfer(Alice, 600) âœ“                       â”‚
â”‚ 5. For Bob:                                          â”‚
â”‚    payout = (1000 Ã— 400) / 1000 = 400                â”‚
â”‚    USDC.transfer(Bob, 400) âœ“                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

RESULT:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TBA Balance:    1000 â†’ 0 USDC        â”‚
â”‚ Alice Wallet:   +600 USDC            â”‚
â”‚ Bob Wallet:     +400 USDC            â”‚
â”‚                                      â”‚
â”‚ âœ“ Proportional distribution!         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                          KEY RELATIONSHIPS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

SHARES â†’ VOTING POWER â†’ WITHDRAWAL %
   â†“          â†“              â†“
  60%    â†’   60%        â†’   60%

Example:
â€¢ Alice invests 600 USDC â†’ 600 Ã— 10^12 shares
â€¢ Total investment: 1000 USDC â†’ 1000 Ã— 10^12 total shares
â€¢ Alice's percentage: 600/1000 = 60%
â€¢ Alice's voting power: 60% of all votes
â€¢ Alice's withdrawal: 60% of all distributions

ONE UNIFIED SYSTEM! ğŸ¯
```

This diagram shows the complete architecture and how everything connects!
